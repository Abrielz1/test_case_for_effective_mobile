# Тестовое задание для Effective Mobile
## Дано:
### Описание задачи:
Спроектировать и разработать систему регистрации и обработки пользовательских заявок
### Требования
1. Сервис должен поддерживать аутентификацию и авторизацию пользователей по email и паролю.
2. Доступ к API должен быть аутентифицирован с помощью JWT токена.
3. Пользователи могут управлять своими задачами: создавать новые, редактировать существующие, просматривать и удалять, менять статус и назначать исполнителей задачи.
4. Пользователи могут просматривать задачи других пользователей, а исполнители задачи могут менять статус своих задач.
5. К задачам можно оставлять комментарии.
6. API должно позволять получать задачи конкретного автора или исполнителя, а также все комментарии к ним. Необходимо обеспечить фильтрацию и пагинацию вывода.
7. Сервис должен корректно обрабатывать ошибки и возвращать понятные сообщения, а также валидировать входящие данные.
8. Сервис должен быть хорошо задокументирован. API должен быть описан с помощью Open API и Swagger. В сервисе должен быть настроен Swagger UI. Необходимо написать README с инструкциями для локального запуска проекта. Дев среду нужно поднимать с помощью docker compose.
9. Напишите несколько базовых тестов для проверки основных функций вашей системы.
10. Используйте для реализации системы язык Java 17+, Spring, Spring Boot. В качестве БД можно использовать PostgreSQL или MySQL. Для реализации аутентификации и авторизации нужно использовать Spring Security. Можно использовать дополнительные инструменты, если в этом есть необходимость (например, кэш).

# Стек технологий

- Java 17
- Spring Boot
- Spring Security с защитой при помощи Jwt
- Junit 5
- Mockito
- Docker compose
- Lombok
- PostgreSQL

# Схема базы данных
![Схема](/files/dataBaseChema1.png)

#### Тестирование

- В проекте применено Moc тестирования пользовательских сервисов.

#### PostgreSQL

- В качестве базы данных была выбрана PostGreSql 12.3

# Эндпоинты:

## Регистрация:

### 1. Для регистрации:

 Необходимо использовать адрес: http://localhost:8080/auth/register

### 2. Для авторизации:

 Необходимо использовать адрес: http://localhost:8080/auth/login

### 3. Для завершения сессии:

 Необходимо использовать адрес: http://localhost:8080/auth/logout

### 4. Для обновления токена авторизации пользователя:

 Необходимо использовать адрес: http://localhost:8080/auth/refresh-token

## Управление задачами User (Пользователь)

### 1. Получение всех записей задач

Необходимо использовать адрес: http://localhost:8080/users/tasks/all/{authorId}

### 2. Получение записи задачи (Task) по id автора

Необходимо использовать адрес: http://localhost:8080/users/task/{authorId}/{taskId}

### 3. Создание новой задачи

Необходимо использовать адрес: http://localhost:8080/users/create

### 4. Изменение задачи (Task) по ее id

Необходимо использовать адрес: http://localhost:8080/users/update/{taskId}

### 5. Удаление задачи (Task) по ее id

Необходимо использовать адрес: http://localhost:8080/users/delete/{authorId}/{taskId}

### 6. Получение всех записей задач (Task) по id исполнителя

Необходимо использовать адрес: http://localhost:8080/users/tasks/{assigneeId}

## Управление задачами Admin (Администратор)

### 1. Получение всех записей задач (Task), в том числе удалённых

Необходимо использовать адрес: http://localhost:8080/admins/tasks

### 2. Получение всех записей задач (Task), только удалённых

Необходимо использовать адрес: http://localhost:8080/admins/all-deleted-on-only"

### 3. Получение всех записей задач (Task) по id автора, кроме удалённых

Необходимо использовать адрес: Необходимо использовать адрес: http://localhost:8080/admins/all-deleted-off"

### 4. Получение всех записей задач (Task) по id автора, в том числе удалённых

Необходимо использовать адрес: http://localhost:8080/admins/ll/author-short/{authorId}

### 5. Получение всех записей задач (Task) по id исполнителя, кроме удалённых

Необходимо использовать адрес: http://localhost:8080/admins/all/author-full/{authorId}

### 6. Получение всех записей задач (Task) по id исполнителя, в том числе удалённых

Необходимо использовать адрес: Необходимо использовать адрес: http://localhost:8080/admins/all/assignee-short/{assigneeId}

### 7. Получение записи задачи (Task) по id задачи

Необходимо использовать адрес: http://localhost:8080/admins/all/assignee-full/{assigneeId}

### 8. Создание новой задачи (Task)

Необходимо использовать адрес: http://localhost:8080/admins/task/{taskId}

### 9. Изменение задачи (Task) по ее id

Необходимо использовать адрес: Необходимо использовать адрес: http://localhost:8080/admins/create

### 10. Изменение задачи (Task) по ее id

Необходимо использовать адрес: http://localhost:8080/admins/update/{taskId}/{authorId}

### 11. Удаление задачи (Task) по ее id

Необходимо использовать адрес: http://localhost:8080/admins/delete/{taskId}/{authorId}

## Управление комментариями User (Пользователь)

### 1. Добавление комментария (Commentary) к задаче (Task) по id задачи

Необходимо использовать адрес: http://localhost:8080/users/commentaries/create/{taskId}

### 2. Изменение комментария (Commentary) к задаче (Task) по id задачи

Необходимо использовать адрес: http://localhost:8080/users/update/{taskId}/{commentaryId}

## Управление комментариями Admin (Администратор)

### 1. Добавление комментария (Commentary) к задаче (Task) по id задачи

Необходимо использовать адрес: http://localhost:8080/admins/commentaries/create/{taskId}

### 2. Изменение комментария (Commentary) к задаче (Task) по id задачи

Необходимо использовать адрес: http://localhost:8080/admins/commentaries/update/{taskId}/{commentaryId}

### 3. Удаление комментария (Commentary) по id и по id задачи

Необходимо использовать адрес: http://localhost:8080/admins/commentaries/delete/{taskId}/{commentaryId}

## Управление пользователями Admin (Администратор) (Админка)

### 1. Редактирование пользователя (USER) по id (User)

Необходимо использовать адрес: http://localhost:8080/admins/users/update/user/{userId}

### 2. Бан/Блокировка пользователя (USER) по id (User)

Необходимо использовать адрес: http://localhost:8080/admins/users/ban/user/{userId}

### 3. Разбан/Разблокировка пользователя (USER) по id (User)

Необходимо использовать адрес: http://localhost:8080/admins/users/unban/user/{userId}

### 4. Удаление пользователя (USER) по id (User)

Необходимо использовать адрес: http://localhost:8080/admins/users/delete/user/{userId}


### 5. осстановление пользователя (USER) по id (User)

Необходимо использовать адрес: http://localhost:8080/admins/users/undelete/user/{userId}

```

- Для запуска Вам необходимо клонировать на свой компьютер код мз репозитория или скачать .zip архив с проектом.
- После этого выполнить команду:

```

docker compose up -d